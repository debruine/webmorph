<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 Batch Processes | WebMorph Manual</title>
  <meta name="description" content="Manual for WebMorph, a web-based version of Psychomorph, with several additional functions." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 Batch Processes | WebMorph Manual" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Manual for WebMorph, a web-based version of Psychomorph, with several additional functions." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Batch Processes | WebMorph Manual" />
  
  <meta name="twitter:description" content="Manual for WebMorph, a web-based version of Psychomorph, with several additional functions." />
  

<meta name="author" content="Lisa DeBruine" />


<meta name="date" content="2021-03-10" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="getting-started.html"/>
<link rel="next" href="templates.html"/>
<script src="libs/header-attrs-2.7/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />



<link rel="stylesheet" href="include/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">WebMorph Manual</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Overview</a>
<ul>
<li class="chapter" data-level="0.1" data-path="index.html"><a href="index.html#bugs-and-suggestions"><i class="fa fa-check"></i><b>0.1</b> Bugs and Suggestions</a></li>
<li class="chapter" data-level="0.2" data-path="index.html"><a href="index.html#citations"><i class="fa fa-check"></i><b>0.2</b> Citations</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>1</b> Getting Started</a>
<ul>
<li class="chapter" data-level="1.1" data-path="getting-started.html"><a href="getting-started.html#accounts"><i class="fa fa-check"></i><b>1.1</b> Accounts</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="getting-started.html"><a href="getting-started.html#academic-accounts"><i class="fa fa-check"></i><b>1.1.1</b> Academic Accounts</a></li>
<li class="chapter" data-level="1.1.2" data-path="getting-started.html"><a href="getting-started.html#waitlist"><i class="fa fa-check"></i><b>1.1.2</b> Waitlist</a></li>
<li class="chapter" data-level="1.1.3" data-path="getting-started.html"><a href="getting-started.html#guest-accounts"><i class="fa fa-check"></i><b>1.1.3</b> Guest Accounts</a></li>
<li class="chapter" data-level="1.1.4" data-path="getting-started.html"><a href="getting-started.html#log-in"><i class="fa fa-check"></i><b>1.1.4</b> Log in</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="getting-started.html"><a href="getting-started.html#projects"><i class="fa fa-check"></i><b>1.2</b> Projects</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="getting-started.html"><a href="getting-started.html#new-project"><i class="fa fa-check"></i><b>1.2.1</b> New Project</a></li>
<li class="chapter" data-level="1.2.2" data-path="getting-started.html"><a href="getting-started.html#project-users"><i class="fa fa-check"></i><b>1.2.2</b> Project Users</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="getting-started.html"><a href="getting-started.html#finder"><i class="fa fa-check"></i><b>1.3</b> Finder</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="getting-started.html"><a href="getting-started.html#built-in-image-sets"><i class="fa fa-check"></i><b>1.3.1</b> Built-in Image Sets</a></li>
<li class="chapter" data-level="1.3.2" data-path="getting-started.html"><a href="getting-started.html#adding-folders-and-files"><i class="fa fa-check"></i><b>1.3.2</b> Adding Folders and Files</a></li>
<li class="chapter" data-level="1.3.3" data-path="getting-started.html"><a href="getting-started.html#uploading-from-webcam"><i class="fa fa-check"></i><b>1.3.3</b> Uploading from Webcam</a></li>
<li class="chapter" data-level="1.3.4" data-path="getting-started.html"><a href="getting-started.html#deleting-files"><i class="fa fa-check"></i><b>1.3.4</b> Deleting Files</a></li>
<li class="chapter" data-level="1.3.5" data-path="getting-started.html"><a href="getting-started.html#moving-files"><i class="fa fa-check"></i><b>1.3.5</b> Moving Files</a></li>
<li class="chapter" data-level="1.3.6" data-path="getting-started.html"><a href="getting-started.html#renaming-files"><i class="fa fa-check"></i><b>1.3.6</b> Renaming Files</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="getting-started.html"><a href="getting-started.html#delineate"><i class="fa fa-check"></i><b>1.4</b> Delineate</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="getting-started.html"><a href="getting-started.html#fit-template"><i class="fa fa-check"></i><b>1.4.1</b> Fit Template</a></li>
<li class="chapter" data-level="1.4.2" data-path="getting-started.html"><a href="getting-started.html#change-size"><i class="fa fa-check"></i><b>1.4.2</b> Change Size</a></li>
<li class="chapter" data-level="1.4.3" data-path="getting-started.html"><a href="getting-started.html#auto-delineation"><i class="fa fa-check"></i><b>1.4.3</b> Auto-Delineation</a></li>
<li class="chapter" data-level="1.4.4" data-path="getting-started.html"><a href="getting-started.html#delineation"><i class="fa fa-check"></i><b>1.4.4</b> Delineation</a></li>
<li class="chapter" data-level="1.4.5" data-path="getting-started.html"><a href="getting-started.html#save-template"><i class="fa fa-check"></i><b>1.4.5</b> Save Template</a></li>
<li class="chapter" data-level="1.4.6" data-path="getting-started.html"><a href="getting-started.html#size-and-normalisation"><i class="fa fa-check"></i><b>1.4.6</b> Size and Normalisation</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="getting-started.html"><a href="getting-started.html#average"><i class="fa fa-check"></i><b>1.5</b> Average</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="getting-started.html"><a href="getting-started.html#texture"><i class="fa fa-check"></i><b>1.5.1</b> Texture</a></li>
<li class="chapter" data-level="1.5.2" data-path="getting-started.html"><a href="getting-started.html#sample-contours"><i class="fa fa-check"></i><b>1.5.2</b> Sample Contours</a></li>
<li class="chapter" data-level="1.5.3" data-path="getting-started.html"><a href="getting-started.html#saving-averages"><i class="fa fa-check"></i><b>1.5.3</b> Saving Averages</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="getting-started.html"><a href="getting-started.html#transform"><i class="fa fa-check"></i><b>1.6</b> Transform</a>
<ul>
<li class="chapter" data-level="1.6.1" data-path="getting-started.html"><a href="getting-started.html#transform-multiple-images"><i class="fa fa-check"></i><b>1.6.1</b> Transform Multiple Images</a></li>
<li class="chapter" data-level="1.6.2" data-path="getting-started.html"><a href="getting-started.html#continuum"><i class="fa fa-check"></i><b>1.6.2</b> Continuum</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="batch-processes.html"><a href="batch-processes.html"><i class="fa fa-check"></i><b>2</b> Batch Processes</a>
<ul>
<li class="chapter" data-level="2.1" data-path="batch-processes.html"><a href="batch-processes.html#batch-functions"><i class="fa fa-check"></i><b>2.1</b> Batch Functions</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="batch-processes.html"><a href="batch-processes.html#rename"><i class="fa fa-check"></i><b>2.1.1</b> Rename</a></li>
<li class="chapter" data-level="2.1.2" data-path="batch-processes.html"><a href="batch-processes.html#align"><i class="fa fa-check"></i><b>2.1.2</b> Align</a></li>
<li class="chapter" data-level="2.1.3" data-path="batch-processes.html"><a href="batch-processes.html#crop"><i class="fa fa-check"></i><b>2.1.3</b> Crop</a></li>
<li class="chapter" data-level="2.1.4" data-path="batch-processes.html"><a href="batch-processes.html#mask"><i class="fa fa-check"></i><b>2.1.4</b> Mask</a></li>
<li class="chapter" data-level="2.1.5" data-path="batch-processes.html"><a href="batch-processes.html#mirror"><i class="fa fa-check"></i><b>2.1.5</b> Mirror</a></li>
<li class="chapter" data-level="2.1.6" data-path="batch-processes.html"><a href="batch-processes.html#resize"><i class="fa fa-check"></i><b>2.1.6</b> Resize</a></li>
<li class="chapter" data-level="2.1.7" data-path="batch-processes.html"><a href="batch-processes.html#rotate"><i class="fa fa-check"></i><b>2.1.7</b> Rotate</a></li>
<li class="chapter" data-level="2.1.8" data-path="batch-processes.html"><a href="batch-processes.html#scramble"><i class="fa fa-check"></i><b>2.1.8</b> Scramble</a></li>
<li class="chapter" data-level="2.1.9" data-path="batch-processes.html"><a href="batch-processes.html#symmetrise"><i class="fa fa-check"></i><b>2.1.9</b> Symmetrise</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="batch-processes.html"><a href="batch-processes.html#batch-files"><i class="fa fa-check"></i><b>2.2</b> Batch Files</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="batch-processes.html"><a href="batch-processes.html#batch-average"><i class="fa fa-check"></i><b>2.2.1</b> Batch Average</a></li>
<li class="chapter" data-level="2.2.2" data-path="batch-processes.html"><a href="batch-processes.html#batch-transform"><i class="fa fa-check"></i><b>2.2.2</b> Batch Transform</a></li>
<li class="chapter" data-level="2.2.3" data-path="batch-processes.html"><a href="batch-processes.html#batch-edit"><i class="fa fa-check"></i><b>2.2.3</b> Batch Edit</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="batch-processes.html"><a href="batch-processes.html#other-functions"><i class="fa fa-check"></i><b>2.3</b> Other Functions</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="batch-processes.html"><a href="batch-processes.html#facialmetrics"><i class="fa fa-check"></i><b>2.3.1</b> Calculate FacialMetrics</a></li>
<li class="chapter" data-level="2.3.2" data-path="batch-processes.html"><a href="batch-processes.html#lab-pixels"><i class="fa fa-check"></i><b>2.3.2</b> Lab* Pixels</a></li>
<li class="chapter" data-level="2.3.3" data-path="batch-processes.html"><a href="batch-processes.html#image-grid"><i class="fa fa-check"></i><b>2.3.3</b> Image Grid</a></li>
<li class="chapter" data-level="2.3.4" data-path="batch-processes.html"><a href="batch-processes.html#multiple-continua"><i class="fa fa-check"></i><b>2.3.4</b> Multiple Continua</a></li>
<li class="chapter" data-level="2.3.5" data-path="batch-processes.html"><a href="batch-processes.html#moving-gif"><i class="fa fa-check"></i><b>2.3.5</b> Moving Gif</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="templates.html"><a href="templates.html"><i class="fa fa-check"></i><b>3</b> Templates</a>
<ul>
<li class="chapter" data-level="3.1" data-path="templates.html"><a href="templates.html#default-tem"><i class="fa fa-check"></i><b>3.1</b> Change Default Template</a></li>
<li class="chapter" data-level="3.2" data-path="templates.html"><a href="templates.html#delneation"><i class="fa fa-check"></i><b>3.2</b> Delneation</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="templates.html"><a href="templates.html#close-mouth"><i class="fa fa-check"></i><b>3.2.1</b> Close Mouth</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="templates.html"><a href="templates.html#batch-template-functions"><i class="fa fa-check"></i><b>3.3</b> Batch Template Functions</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="templates.html"><a href="templates.html#convert-templates"><i class="fa fa-check"></i><b>3.3.1</b> Convert Templates</a></li>
<li class="chapter" data-level="3.3.2" data-path="templates.html"><a href="templates.html#tps-files"><i class="fa fa-check"></i><b>3.3.2</b> TPS Files</a></li>
<li class="chapter" data-level="3.3.3" data-path="templates.html"><a href="templates.html#tem-from-embedded"><i class="fa fa-check"></i><b>3.3.3</b> Tem from Embedded</a></li>
<li class="chapter" data-level="3.3.4" data-path="templates.html"><a href="templates.html#modify-delineation"><i class="fa fa-check"></i><b>3.3.4</b> Modify Delineation</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="templates.html"><a href="templates.html#new-template"><i class="fa fa-check"></i><b>3.4</b> New Templates</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="templates.html"><a href="templates.html#from-a-saved-template"><i class="fa fa-check"></i><b>3.4.1</b> From a Saved Template</a></li>
<li class="chapter" data-level="3.4.2" data-path="templates.html"><a href="templates.html#from-scratch"><i class="fa fa-check"></i><b>3.4.2</b> From Scratch</a></li>
<li class="chapter" data-level="3.4.3" data-path="templates.html"><a href="templates.html#set-point-labels"><i class="fa fa-check"></i><b>3.4.3</b> Set Point Labels</a></li>
<li class="chapter" data-level="3.4.4" data-path="templates.html"><a href="templates.html#template-sym"><i class="fa fa-check"></i><b>3.4.4</b> Setting Symmetry Points</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="d.html"><a href="d.html"><i class="fa fa-check"></i><b>4</b> 3D</a></li>
<li class="chapter" data-level="5" data-path="preferences.html"><a href="preferences.html"><i class="fa fa-check"></i><b>5</b> Preferences</a>
<ul>
<li class="chapter" data-level="5.1" data-path="preferences.html"><a href="preferences.html#personal"><i class="fa fa-check"></i><b>5.1</b> Personal</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="preferences.html"><a href="preferences.html#default-project"><i class="fa fa-check"></i><b>5.1.1</b> Default Project</a></li>
<li class="chapter" data-level="5.1.2" data-path="preferences.html"><a href="preferences.html#theme-colour"><i class="fa fa-check"></i><b>5.1.2</b> Theme Colour</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="preferences.html"><a href="preferences.html#images"><i class="fa fa-check"></i><b>5.2</b> Images</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="preferences.html"><a href="preferences.html#show-thumbnail-images"><i class="fa fa-check"></i><b>5.2.1</b> Show thumbnail images</a></li>
<li class="chapter" data-level="5.2.2" data-path="preferences.html"><a href="preferences.html#prefs-default-image-format"><i class="fa fa-check"></i><b>5.2.2</b> Default image format</a></li>
<li class="chapter" data-level="5.2.3" data-path="preferences.html"><a href="preferences.html#batch-default-names"><i class="fa fa-check"></i><b>5.2.3</b> Batch default names</a></li>
<li class="chapter" data-level="5.2.4" data-path="preferences.html"><a href="preferences.html#prefs-texture-averages"><i class="fa fa-check"></i><b>5.2.4</b> Texture Averages</a></li>
<li class="chapter" data-level="5.2.5" data-path="preferences.html"><a href="preferences.html#prefs-sample-contours"><i class="fa fa-check"></i><b>5.2.5</b> Sample Contours</a></li>
<li class="chapter" data-level="5.2.6" data-path="preferences.html"><a href="preferences.html#prefs-normalisation"><i class="fa fa-check"></i><b>5.2.6</b> Normalisation</a></li>
<li class="chapter" data-level="5.2.7" data-path="preferences.html"><a href="preferences.html#prefs-warp-types"><i class="fa fa-check"></i><b>5.2.7</b> Warp Types</a></li>
<li class="chapter" data-level="5.2.8" data-path="preferences.html"><a href="preferences.html#prefs-mask-color"><i class="fa fa-check"></i><b>5.2.8</b> Mask Color</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="preferences.html"><a href="preferences.html#templates-1"><i class="fa fa-check"></i><b>5.3</b> Templates</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="preferences.html"><a href="preferences.html#prefs-default-template"><i class="fa fa-check"></i><b>5.3.1</b> Default Template</a></li>
<li class="chapter" data-level="5.3.2" data-path="preferences.html"><a href="preferences.html#prefs-default-alignment"><i class="fa fa-check"></i><b>5.3.2</b> Default Alignment</a></li>
<li class="chapter" data-level="5.3.3" data-path="preferences.html"><a href="preferences.html#delineation-apprearance"><i class="fa fa-check"></i><b>5.3.3</b> Delineation Apprearance</a></li>
</ul></li>
</ul></li>
<li class="appendix"><span><b>Appendices</b></span></li>
<li class="chapter" data-level="A" data-path="keyboard-shortcuts.html"><a href="keyboard-shortcuts.html"><i class="fa fa-check"></i><b>A</b> Keyboard Shortcuts</a>
<ul>
<li class="chapter" data-level="A.1" data-path="keyboard-shortcuts.html"><a href="keyboard-shortcuts.html#command"><i class="fa fa-check"></i><b>A.1</b> Command</a></li>
<li class="chapter" data-level="A.2" data-path="keyboard-shortcuts.html"><a href="keyboard-shortcuts.html#shift-command"><i class="fa fa-check"></i><b>A.2</b> Shift-Command</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="news.html"><a href="news.html"><i class="fa fa-check"></i><b>B</b> News</a></li>
<li class="chapter" data-level="C" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>C</b> References</a></li>
<li class="divider"></li>
<li><a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/"
    target="blank"><img alt="Creative Commons License"
    style="border-width:0"
    src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a><li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">WebMorph Manual</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="batch-processes" class="section level1" number="2">
<h1><span class="header-section-number">Chapter 2</span> Batch Processes</h1>
<div id="batch-functions" class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> Batch Functions</h2>
<p>Select multiple images in the Finder and use the functions under the Batch menu to apply transformations to all of the selected images. The individual processes will be added to the Queue and complete in the background.</p>
<div class="try">
<p>I am writing an <a href="https://facelab.github.io/webmorphR/">R package</a> to do much of this on your own computer, which can often be faster than the webmorph server.</p>
</div>
<div id="rename" class="section level3" number="2.1.1">
<h3><span class="header-section-number">2.1.1</span> Rename</h3>
<p>Replace text, add a prefix or suffix, or add an index to selected images.</p>
<div class="figure"><span id="fig:fig-batch-rename"></span>
<img src="images/batch_rename.png" alt="Batch Rename." width="633" />
<p class="caption">
Figure 2.1: Batch Rename.
</p>
</div>
</div>
<div id="align" class="section level3" number="2.1.2">
<h3><span class="header-section-number">2.1.2</span> Align</h3>
<p>Align delineated images on two points. This rotates and resizes images so that the specified points are all in the same place (usually the pupils).</p>
<p>The default values for the alignment come from <a href="preferences.html#prefs-default-alignment">Preferences</a>, but you can change them.</p>
<p>If the alignment makes an image smaller than the image size, the background will be the specified colour.</p>
<div class="figure"><span id="fig:fig-batch-align"></span>
<img src="images/batch_align.png" alt="Batch Align." width="634" />
<p class="caption">
Figure 2.2: Batch Align.
</p>
</div>
</div>
<div id="crop" class="section level3" number="2.1.3">
<h3><span class="header-section-number">2.1.3</span> Crop</h3>
<p>Crop an image by specifying the number of pixels to add or remove from each side.</p>
<p>You can select the background colour for added pixels from the average of a patch of the image whose coordinates you specify (defaulting to the top left 10 pixel square).</p>
<div class="figure"><span id="fig:fig-batch-crop"></span>
<img src="images/batch_crop.png" alt="Batch Crop." width="637" />
<p class="caption">
Figure 2.3: Batch Crop.
</p>
</div>
</div>
<div id="mask" class="section level3" number="2.1.4">
<h3><span class="header-section-number">2.1.4</span> Mask</h3>
<p>Masking allows you to use the delineation lines to mask off areas of an image. There are several masks built into WebMorph that work with the FRL-Face template, but you can define your own.</p>
<div class="figure"><span id="fig:fig-batch-mask"></span>
<img src="images/batch_mask.png" alt="Batch Mask." width="861" />
<p class="caption">
Figure 2.4: Batch Mask.
</p>
</div>
<p>You can combine masks. The interface will let you visualise what each mask is. Reversing a mask puts the colour inside the mask instead of outside (although the masking interface still shows an external mask, sorry). If you set the mask to transparent, the masked images will be PNGs with transparency.</p>
<div class="bug">
<p>The blur function doesn’t work as well as PsychMorph’s and you usually can’t tell the difference with images that are large.</p>
</div>
<p>You can create a custom mask by unselecting all of the built-in masks and directly typing the points to use in the text box that appears. For example, with the custom 10-point template <a href="templates.html#from-scratch">“outline”</a>, you can mask the face with this: <code>0,1,2,3,4,5,6,7,8,9,0</code>. Notice how the first point is also appended to the end. If you don’t do this, masks will have a jagged corner.</p>
<div class="figure"><span id="fig:fig-batch-mask-custom"></span>
<img src="images/batch_mask_custom.png" alt="Custom Masks.  The image on the left didn't include the starting point at the end." width="708" />
<p class="caption">
Figure 2.5: Custom Masks. The image on the left didn’t include the starting point at the end.
</p>
</div>
<p>You can build a mask by clicking on the delineation points you want to add in the Template interface. Load an image with the correct template and choose Custom Mask Builder from the Template menu. Click on points to add them to the text box. Separate points with commas, lines with semicolons, and mask areas with colons.</p>
<div class="bug">
<p>You can’t get out of the Custom Mask Builder interface. Until I fix it, just reload the page to get out.</p>
</div>
<p>For example, this will create one mask that masks the pupils, as the points 2-9 delineate the left pupil and points 10-17 delineate the right pupil. Reverse the mask to replace the pupils with the mask colour.</p>
<pre><code>2,3,4,5,6,7,8,9,2 : 10,17,16,15,14,13,12,11,10</code></pre>
</div>
<div id="mirror" class="section level3" number="2.1.5">
<h3><span class="header-section-number">2.1.5</span> Mirror</h3>
<p>Batch mirror mirror-reverses the images and their templates. Templates need to have their symmetry points defined in order to do this. Most of the built-in templates in WebMorph have this, but you will need to <a href="templates.html#template-sym">do this yourself</a> for any custom templates.</p>
<p>For example, in the FRL-Face template, point 0 is the left pupil and point 1 is the right pupil, so in the mirror-reversed version, the x-coordinates are all flipped and the identities of matching points are swapped so that the pupil point on the left side of the image is 0 in both original and mirror-reversed versions. This is the first step to creating a symmetric face.</p>
</div>
<div id="resize" class="section level3" number="2.1.6">
<h3><span class="header-section-number">2.1.6</span> Resize</h3>
<p>Resize images by percent or pixel. If you only enter one of width or height, the other dimension is scaled to the same aspect ratio as the original image. You will see a table of the original and new dimensions to check before you click Resize.</p>
<div class="figure"><span id="fig:fig-batch-resize"></span>
<img src="images/batch_resize.png" alt="Batch Resize" width="632" />
<p class="caption">
Figure 2.6: Batch Resize
</p>
</div>
</div>
<div id="rotate" class="section level3" number="2.1.7">
<h3><span class="header-section-number">2.1.7</span> Rotate</h3>
<p>Set the number of degrees to rotate (e.g. 90 degrees rotates the images one-quarter of a turn clockwise).</p>
<p>If your rotated image is squint, you need to set a background colour to fill in the triangles in the edges. If you choose “Select color from patch,” each image’s background will be taken from the average of the specified pixels.</p>
<div class="figure"><span id="fig:fig-batch-rotate"></span>
<img src="images/batch_rotate.png" alt="Batch Rotate 45 degrees with Select color from patch" width="1000" />
<p class="caption">
Figure 2.7: Batch Rotate 45 degrees with Select color from patch
</p>
</div>
</div>
<div id="scramble" class="section level3" number="2.1.8">
<h3><span class="header-section-number">2.1.8</span> Scramble</h3>
<p>Some vision research uses scrambled images as controls. They will have the same distribution of colour as the unscrambled image, but scrambling introduces horizontal and vertical structure that isn’t present in the original image, so we recommend to place grid lines on both the original and scrambled images.</p>
<p>Scramble an image by choosing the grid size and offset, then select/unselect the squares to scramble by clicking or dragging on the image.</p>
<p>If your selected squares are symmetric, you can choose a symmetric scramble, where the squares on the left side are scrambled, and the squares on the right side are in a mirrored pattern. This looks pretty creepy, but maintains the bilateral symmetry of the original image in the scrambled version. Each face in a set is scrambled</p>
<div class="figure"><span id="fig:fig-batch-scramble"></span>
<img src="images/batch_scramble.png" alt="Batch Scramble" width="1482" />
<p class="caption">
Figure 2.8: Batch Scramble
</p>
</div>
<p>The symmetric image scrambling methods were first published in Conway et al. <span class="citation">(<a href="references.html#ref-conway_2008" role="doc-biblioref">2008</a>)</span>, so please do cite that paper if you use this method.</p>
<p>You can scramble only inside a masked area, although this is experimental and sometimes is glitchy. Set the grid size fairly small and turn off grid lines to create a pixelated look.</p>
<div class="figure"><span id="fig:fig-batch-scramble-mask"></span>
<img src="images/batch_scramble_mask.png" alt="Batch Scramble inside a mask." width="1404" />
<p class="caption">
Figure 2.9: Batch Scramble inside a mask.
</p>
</div>
</div>
<div id="symmetrise" class="section level3" number="2.1.9">
<h3><span class="header-section-number">2.1.9</span> Symmetrise</h3>
<p>You can symmetrise an image in shape, color, or both. Just like batch mirroring, templates need to have their symmetry points defined in order to do this. Most of the built-in templates in WebMorph have this, but you will need to <a href="templates.html#template-sym">do this yourself</a> for any custom templates.</p>
<div class="figure"><span id="fig:fig-batch-sym"></span>
<img src="images/batch_sym.png" alt="Batch Symmetrise. Original image, symmetric shape, symmetric colour, and both." width="1507" />
<p class="caption">
Figure 2.10: Batch Symmetrise. Original image, symmetric shape, symmetric colour, and both.
</p>
</div>
</div>
</div>
<div id="batch-files" class="section level2" number="2.2">
<h2><span class="header-section-number">2.2</span> Batch Files</h2>
<p>WebMorph has three types of batch files that let you process many images programmatically.</p>
<div id="batch-average" class="section level3" number="2.2.1">
<h3><span class="header-section-number">2.2.1</span> Batch Average</h3>
<p><a href="https://webmorph.org/include/examples/templates/_batchAvg.txt">Batch Average Template</a></p>
<p>Put the name of each average on the first row and the images in the average in the rows below. Put each average in a new column.</p>
<p>In the example below, the first average is made from two images (m_multi and f_multi) and will be saved in a folder called avg_test as androgynous.jpg. The second example will be made from 4 images, 3 of which are the same (so will be 1/4 f_multi and 3/4 m_multi).</p>
<table>
<thead>
<tr>
<th style="text-align:left;">
/avg_test/androgynous.jpg
</th>
<th style="text-align:left;">
/avg_test/3male1female.jpg
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
/composites/m_multi.jpg
</td>
<td style="text-align:left;">
/composites/f_multi.jpg
</td>
</tr>
<tr>
<td style="text-align:left;">
/composites/f_multi.jpg
</td>
<td style="text-align:left;">
/composites/m_multi.jpg
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
/composites/m_multi.jpg
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
/composites/m_multi.jpg
</td>
</tr>
</tbody>
</table>
</div>
<div id="batch-transform" class="section level3" number="2.2.2">
<h3><span class="header-section-number">2.2.2</span> Batch Transform</h3>
<p><a href="https://webmorph.org/include/examples/templates/_batchTrans.txt">Batch Transform Template</a></p>
<table>
<thead>
<tr>
<th style="text-align:left;">
trans-img
</th>
<th style="text-align:left;">
from-img
</th>
<th style="text-align:left;">
to-img
</th>
<th style="text-align:left;">
shape
</th>
<th style="text-align:left;">
color
</th>
<th style="text-align:left;">
texture
</th>
<th style="text-align:left;">
outname
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
/composites/f_multi.jpg
</td>
<td style="text-align:left;">
/composites/m_multi.jpg
</td>
<td style="text-align:left;">
/composites/f_multi.jpg
</td>
<td style="text-align:left;">
50
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
/trans_test/female_fem50.jpg
</td>
</tr>
<tr>
<td style="text-align:left;">
/composites/f_multi.jpg
</td>
<td style="text-align:left;">
/composites/m_multi.jpg
</td>
<td style="text-align:left;">
/composites/f_multi.jpg
</td>
<td style="text-align:left;">
-50
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
/trans_test/female_masc50.jpg
</td>
</tr>
<tr>
<td style="text-align:left;">
/composites/m_multi.jpg
</td>
<td style="text-align:left;">
/composites/m_multi.jpg
</td>
<td style="text-align:left;">
/composites/f_multi.jpg
</td>
<td style="text-align:left;">
50
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
/trans_test/male_fem50.jpg
</td>
</tr>
<tr>
<td style="text-align:left;">
/composites/m_multi.jpg
</td>
<td style="text-align:left;">
/composites/m_multi.jpg
</td>
<td style="text-align:left;">
/composites/f_multi.jpg
</td>
<td style="text-align:left;">
-50
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
/trans_test/male_masc50.jpg
</td>
</tr>
<tr>
<td style="text-align:left;">
/composites/f_white.jpg
</td>
<td style="text-align:left;">
/composites/f_multi.jpg
</td>
<td style="text-align:left;">
/composites/f_white.jpg
</td>
<td style="text-align:left;">
25%
</td>
<td style="text-align:left;">
25%
</td>
<td style="text-align:left;">
25%
</td>
<td style="text-align:left;">
/trans_test/f_wh_caric.jpg
</td>
</tr>
</tbody>
</table>
</div>
<div id="batch-edit" class="section level3" number="2.2.3">
<h3><span class="header-section-number">2.2.3</span> Batch Edit</h3>
<p><a href="https://webmorph.org/include/examples/templates/_batchEdit.txt">Batch Edit Template</a></p>
<p>The batch edit function lets you align, resize, rotate, crop, mask, symmetrise, and/or mirror images in any order. Every row must have a valid <code>image</code> name of an image that exists in your project, and a valid <code>outname</code> that can’t overwrite an existing image.</p>
<ul>
<li>image: The path to the image file: e.g., <code>/male/avg.jpg</code></li>
<li>align: <code>pt1, pt2, x1, y1, x2, y2, width, height, [color]</code>
e.g., <code>0,1,497,825,853,825,1350,1800,rgb(0,0,0)</code> or <code>DEFAULT</code></li>
<li>resize: <code>width, height</code>
e.g., <code>50%,50%</code> or <code>300px,400px</code> or <code>null,400px</code></li>
<li>rotate: <code>degrees, [color]</code>
e.g., <code>90,rgb(255,255,255)</code></li>
<li>crop: <code>top, right, bottom, left, [color]</code>
e.g., <code>-100,100,-100,100,rgb(0,0,0)</code></li>
<li>mask: <code>(mask names or custom mask), blur, [color]</code>
e.g., <code>(face,neck,ears),0,rgb(255,255,255)</code> or <code>(face),10,transparent</code></li>
<li>sym: <code>shape</code> and/or <code>color</code></li>
<li>mirror: <code>true</code> or leave blank</li>
<li>order: defaults to <code>align,resize,rotate,crop,mask,sym,mirror</code></li>
<li>outname: The path to save the result to: e.g., <code>/male/edited/avg.jpg</code>
The file needs all 10 columns with their headers, but I’ll show each batch function below with only the relevant columns.</li>
</ul>
<div id="align-1" class="section level4" number="2.2.3.1">
<h4><span class="header-section-number">2.2.3.1</span> Align</h4>
<p>Align using your <a href="preferences.html#prefs-default-alignment">default alignment</a> (<code>DEFAULT</code>), the default FRL-face alignment (<code>FRL</code>), or the specified alignment in the order <code>point 1, point 2, x1, y1, x2, y2, width, height</code>.</p>
<table>
<thead>
<tr>
<th style="text-align:left;">
image
</th>
<th style="text-align:left;">
align
</th>
<th style="text-align:left;">
outname
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
/composites/f_multi.jpg
</td>
<td style="text-align:left;">
DEFAULT
</td>
<td style="text-align:left;">
/edit_test/align_default.jpg
</td>
</tr>
<tr>
<td style="text-align:left;">
/composites/f_easian.jpg
</td>
<td style="text-align:left;">
FRL
</td>
<td style="text-align:left;">
/edit_test/align_frl.jpg
</td>
</tr>
<tr>
<td style="text-align:left;">
/composites/f_african.jpg
</td>
<td style="text-align:left;">
0,1,200,300,400,300,600,600
</td>
<td style="text-align:left;">
/edit_test/align_square.jpg
</td>
</tr>
</tbody>
</table>
</div>
<div id="resize-1" class="section level4" number="2.2.3.2">
<h4><span class="header-section-number">2.2.3.2</span> Resize</h4>
<p>Resize images with a single percentage, or width and height as pixels or percentages. To omit width or height, use <code>null</code>.</p>
<table>
<thead>
<tr>
<th style="text-align:left;">
image
</th>
<th style="text-align:left;">
resize
</th>
<th style="text-align:left;">
outname
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
/composites/f_white.jpg
</td>
<td style="text-align:left;">
50%
</td>
<td style="text-align:left;">
/edit_test/resize_50_percent.jpg
</td>
</tr>
<tr>
<td style="text-align:left;">
/composites/f_wasian.jpg
</td>
<td style="text-align:left;">
null,400px
</td>
<td style="text-align:left;">
/edit_test/resize_400px_tall.jpg
</td>
</tr>
<tr>
<td style="text-align:left;">
/composites/m_multi.jpg
</td>
<td style="text-align:left;">
200px,200px
</td>
<td style="text-align:left;">
/edit_test/resize_200x200px.jpg
</td>
</tr>
<tr>
<td style="text-align:left;">
/composites/m_easian.jpg
</td>
<td style="text-align:left;">
300px,null
</td>
<td style="text-align:left;">
/edit_test/resize_300px_wide.jpg
</td>
</tr>
<tr>
<td style="text-align:left;">
/composites/m_african.jpg
</td>
<td style="text-align:left;">
50%,25%
</td>
<td style="text-align:left;">
/edit_test/resize_50x25_percent.jpg
</td>
</tr>
</tbody>
</table>
</div>
<div id="rotate-1" class="section level4" number="2.2.3.3">
<h4><span class="header-section-number">2.2.3.3</span> Rotate</h4>
<p>Rotate images with the degrees to rotate. If you need to set a non-default background color, add this after the rotation value in the format <code>rgb(r, g, b)</code>.</p>
<table>
<thead>
<tr>
<th style="text-align:left;">
image
</th>
<th style="text-align:left;">
rotate
</th>
<th style="text-align:left;">
outname
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
/composites/m_white.jpg
</td>
<td style="text-align:left;">
90
</td>
<td style="text-align:left;">
/edit_test/rotate_90.jpg
</td>
</tr>
<tr>
<td style="text-align:left;">
/composites/m_wasian.jpg
</td>
<td style="text-align:left;">
45,rgb(255,0,0)
</td>
<td style="text-align:left;">
/edit_test/rotate_45red.jpg
</td>
</tr>
<tr>
<td style="text-align:left;">
/composites/f_multi.jpg
</td>
<td style="text-align:left;">
-90
</td>
<td style="text-align:left;">
/edit_test/rotate_neg90.jpg
</td>
</tr>
</tbody>
</table>
</div>
<div id="crop-1" class="section level4" number="2.2.3.4">
<h4><span class="header-section-number">2.2.3.4</span> Crop</h4>
<p>Crop images by setting the top, right, bottom and left pixels. Set a non-default background color in the format <code>rgb(r, g, b)</code>.</p>
<table>
<thead>
<tr>
<th style="text-align:left;">
image
</th>
<th style="text-align:left;">
crop
</th>
<th style="text-align:left;">
outname
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
/composites/f_multi.jpg
</td>
<td style="text-align:left;">
-300,0,-300,0
</td>
<td style="text-align:left;">
/edit_test/crop_short.jpg
</td>
</tr>
<tr>
<td style="text-align:left;">
/composites/f_multi.jpg
</td>
<td style="text-align:left;">
100,100,100,100,rgb(0,255,0)
</td>
<td style="text-align:left;">
/edit_test/crop_green_border.jpg
</td>
</tr>
</tbody>
</table>
</div>
<div id="mask-1" class="section level4" number="2.2.3.5">
<h4><span class="header-section-number">2.2.3.5</span> Mask</h4>
<p>Put the mask names inside parentheses (comma-delimited), then the blur level (0-10), and an optional background color in the format <code>rgb(r, g, b)</code>.</p>
<table>
<thead>
<tr>
<th style="text-align:left;">
image
</th>
<th style="text-align:left;">
mask
</th>
<th style="text-align:left;">
outname
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
/composites/f_multi.jpg
</td>
<td style="text-align:left;">
(face),10,rgb(255,0,0)
</td>
<td style="text-align:left;">
/edit_test/mask_red.jpg
</td>
</tr>
<tr>
<td style="text-align:left;">
/composites/f_multi.jpg
</td>
<td style="text-align:left;">
(face),0,rgb(0,255,0)
</td>
<td style="text-align:left;">
/edit_test/mask_green.jpg
</td>
</tr>
<tr>
<td style="text-align:left;">
/composites/f_multi.jpg
</td>
<td style="text-align:left;">
(face,neck,ears),0
</td>
<td style="text-align:left;">
/edit_test/mask_face_neck_ears.jpg
</td>
</tr>
<tr>
<td style="text-align:left;">
/composites/f_multi.jpg
</td>
<td style="text-align:left;">
(neck),0
</td>
<td style="text-align:left;">
/edit_test/mask_neck.jpg
</td>
</tr>
<tr>
<td style="text-align:left;">
/composites/f_multi.jpg
</td>
<td style="text-align:left;">
(left_eye),0
</td>
<td style="text-align:left;">
/edit_test/mask_left_eye.jpg
</td>
</tr>
<tr>
<td style="text-align:left;">
/composites/f_multi.jpg
</td>
<td style="text-align:left;">
(right_eye),0
</td>
<td style="text-align:left;">
/edit_test/mask_right_eye.jpg
</td>
</tr>
<tr>
<td style="text-align:left;">
/composites/f_multi.jpg
</td>
<td style="text-align:left;">
(eyes),0
</td>
<td style="text-align:left;">
/edit_test/mask_eyes.jpg
</td>
</tr>
<tr>
<td style="text-align:left;">
/composites/f_multi.jpg
</td>
<td style="text-align:left;">
(left_brow),0
</td>
<td style="text-align:left;">
/edit_test/mask_left_brow.jpg
</td>
</tr>
<tr>
<td style="text-align:left;">
/composites/f_multi.jpg
</td>
<td style="text-align:left;">
(right_brow),0
</td>
<td style="text-align:left;">
/edit_test/mask_right_brow.jpg
</td>
</tr>
<tr>
<td style="text-align:left;">
/composites/f_multi.jpg
</td>
<td style="text-align:left;">
(brows),0
</td>
<td style="text-align:left;">
/edit_test/mask_brows.jpg
</td>
</tr>
<tr>
<td style="text-align:left;">
/composites/f_multi.jpg
</td>
<td style="text-align:left;">
(left_ear),0
</td>
<td style="text-align:left;">
/edit_test/mask_left_ear.jpg
</td>
</tr>
<tr>
<td style="text-align:left;">
/composites/f_multi.jpg
</td>
<td style="text-align:left;">
(right_ear),0
</td>
<td style="text-align:left;">
/edit_test/mask_right_ear.jpg
</td>
</tr>
<tr>
<td style="text-align:left;">
/composites/f_multi.jpg
</td>
<td style="text-align:left;">
(ears),0
</td>
<td style="text-align:left;">
/edit_test/mask_ears.jpg
</td>
</tr>
<tr>
<td style="text-align:left;">
/composites/f_multi.jpg
</td>
<td style="text-align:left;">
(nose),0
</td>
<td style="text-align:left;">
/edit_test/mask_nose.jpg
</td>
</tr>
<tr>
<td style="text-align:left;">
/composites/f_multi.jpg
</td>
<td style="text-align:left;">
(mouth),0
</td>
<td style="text-align:left;">
/edit_test/mask_mouth.jpg
</td>
</tr>
</tbody>
</table>
</div>
<div id="sym" class="section level4" number="2.2.3.6">
<h4><span class="header-section-number">2.2.3.6</span> Sym</h4>
<p>Symmetrise with <code>shape</code> and/or <code>color</code>, separated by a comma.</p>
<table>
<thead>
<tr>
<th style="text-align:left;">
image
</th>
<th style="text-align:left;">
sym
</th>
<th style="text-align:left;">
outname
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
/composites/f_multi.jpg
</td>
<td style="text-align:left;">
shape,color
</td>
<td style="text-align:left;">
/edit_test/sym_shape_color.jpg
</td>
</tr>
<tr>
<td style="text-align:left;">
/composites/f_multi.jpg
</td>
<td style="text-align:left;">
shape
</td>
<td style="text-align:left;">
/edit_test/sym_shape.jpg
</td>
</tr>
<tr>
<td style="text-align:left;">
/composites/f_multi.jpg
</td>
<td style="text-align:left;">
color
</td>
<td style="text-align:left;">
/edit_test/sym_color.jpg
</td>
</tr>
</tbody>
</table>
</div>
<div id="mirror-1" class="section level4" number="2.2.3.7">
<h4><span class="header-section-number">2.2.3.7</span> Mirror</h4>
<p>Mirror with <code>TRUE</code>, <code>FALSE</code>, or leave blank.</p>
<table>
<thead>
<tr>
<th style="text-align:left;">
image
</th>
<th style="text-align:left;">
mirror
</th>
<th style="text-align:left;">
outname
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
/composites/f_multi.jpg
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
/edit_test/mirror.jpg
</td>
</tr>
</tbody>
</table>
</div>
<div id="multiple" class="section level4" number="2.2.3.8">
<h4><span class="header-section-number">2.2.3.8</span> Multiple</h4>
<p>You can apply several edits to a single image in one step.</p>
<div style="border: 0px;overflow-x: scroll; width:100%; ">
<table>
<thead>
<tr>
<th style="text-align:left;">
image
</th>
<th style="text-align:left;">
align
</th>
<th style="text-align:left;">
resize
</th>
<th style="text-align:left;">
rotate
</th>
<th style="text-align:left;">
crop
</th>
<th style="text-align:left;">
mask
</th>
<th style="text-align:left;">
sym
</th>
<th style="text-align:left;">
mirror
</th>
<th style="text-align:left;">
order
</th>
<th style="text-align:left;">
outname
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
/composites/f_multi.jpg
</td>
<td style="text-align:left;">
FRL
</td>
<td style="text-align:left;">
50%
</td>
<td style="text-align:left;">
90
</td>
<td style="text-align:left;">
10,10,10,10,rgb(255,0,0)
</td>
<td style="text-align:left;">
(face),0,rgb(255,255,255)
</td>
<td style="text-align:left;">
shape,color
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
/edit_test/multi_1a.jpg
</td>
</tr>
<tr>
<td style="text-align:left;">
/composites/f_multi.jpg
</td>
<td style="text-align:left;">
FRL
</td>
<td style="text-align:left;">
50%
</td>
<td style="text-align:left;">
90
</td>
<td style="text-align:left;">
10,10,10,10,rgb(255,0,0)
</td>
<td style="text-align:left;">
(face),0,rgb(255,255,255)
</td>
<td style="text-align:left;">
shape,color
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
align,resize,rotate,crop,mask,sym
</td>
<td style="text-align:left;">
/edit_test/multi_1b.jpg
</td>
</tr>
<tr>
<td style="text-align:left;">
/composites/f_multi.jpg
</td>
<td style="text-align:left;">
FRL
</td>
<td style="text-align:left;">
50%
</td>
<td style="text-align:left;">
90
</td>
<td style="text-align:left;">
10,10,10,10,rgb(255,0,0)
</td>
<td style="text-align:left;">
(face),0,rgb(255,255,255)
</td>
<td style="text-align:left;">
shape,color
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
resize,rotate,crop,mask,sym,align
</td>
<td style="text-align:left;">
/edit_test/multi_2.jpg
</td>
</tr>
<tr>
<td style="text-align:left;">
/composites/f_multi.jpg
</td>
<td style="text-align:left;">
FRL
</td>
<td style="text-align:left;">
50%
</td>
<td style="text-align:left;">
90
</td>
<td style="text-align:left;">
10,10,10,10,rgb(255,0,0)
</td>
<td style="text-align:left;">
(face),0,rgb(255,255,255)
</td>
<td style="text-align:left;">
shape,color
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
crop,resize,sym,align
</td>
<td style="text-align:left;">
/edit_test/multi_3.jpg
</td>
</tr>
<tr>
<td style="text-align:left;">
/composites/f_multi.jpg
</td>
<td style="text-align:left;">
0,1,200,300,400,300,600,600
</td>
<td style="text-align:left;">
50%
</td>
<td style="text-align:left;">
90
</td>
<td style="text-align:left;">
10,10,10,10,rgb(255,0,0)
</td>
<td style="text-align:left;">
(face),0,rgb(255,255,255)
</td>
<td style="text-align:left;">
shape,color
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
crop
</td>
<td style="text-align:left;">
/edit_test/multi_4.jpg
</td>
</tr>
<tr>
<td style="text-align:left;">
/composites/f_multi.jpg
</td>
<td style="text-align:left;">
0,1,200,300,400,300,600,600
</td>
<td style="text-align:left;">
50%
</td>
<td style="text-align:left;">
90
</td>
<td style="text-align:left;">
10,10,10,10,rgb(255,0,0)
</td>
<td style="text-align:left;">
(face),0,rgb(255,255,255)
</td>
<td style="text-align:left;">
shape,color
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
crop,crop
</td>
<td style="text-align:left;">
/edit_test/multi_5.jpg
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div id="other-functions" class="section level2" number="2.3">
<h2><span class="header-section-number">2.3</span> Other Functions</h2>
<div id="facialmetrics" class="section level3" number="2.3.1">
<h3><span class="header-section-number">2.3.1</span> Calculate FacialMetrics</h3>
<p>Use the x and y coordinates of templates to calculate facial metrics.</p>
<p>There are two built-in metrics:</p>
<ul>
<li><p>FWH: face width-to height ratio, face height is the distance between the upper lip and the highest point of the eyelids, face width is the maximum distance between the left and right facial boundary (i.e., bizygomatic width) <span class="citation">(following <a href="references.html#ref-FWH" role="doc-biblioref">Lefevre et al. 2013</a>)</span></p>
<pre><code>abs(max(x[113],x[112],x[114])-min(x[110],x[111],x[109]))/abs(y[90]-min(y[20],y[25]))</code></pre></li>
<li><p>Eye-spacing: the distance between the centres of the pupils (this isn’t very useful, but mainly there to remind you of the equation for the distance between two points)</p>
<pre><code>sqrt(pow(x[0]-x[1], 2) + pow(y[0]-y[1],2))</code></pre></li>
</ul>
<p>Click calculate after choosing a metric to add its calculation to a table for downloading.</p>
<p>You can also write your own equations. refer to points by their number, e.g., <code>x[0]</code> or <code>y[1]</code>. You can find the point numbers by hovering over them in the Delineate window.</p>
<p>Allowed functions in equations are: <code>abs</code>, <code>min</code>, <code>max</code>, <code>tan</code>, <code>sin</code>, <code>cos</code>, <code>atan</code>, <code>asin</code>, <code>acos</code>, <code>sqrt</code>, <code>pow</code> and <code>rad2deg</code>. Units are in pixels. The origin (0,0) is in the upper left corner.</p>
<p>Max and min values of template points can be useful for knowing how much you can crop a set of images without going into the templates. Here are the relevant points for the FRL-Face template.</p>
<ul>
<li>Top: y of the highest halo point, <code>y[151]</code></li>
<li>Bottom: minimum y of the adams apple points, <code>max(y[183], y[184])</code></li>
<li>Left: x of left halo point outside the ear, <code>x[147]</code></li>
<li>Right: x of right halo point outside the ear, <code>x[155]</code></li>
</ul>
<p>If you’re using the <a href="templates.html#default-tem">Hand template</a>, you can calculate 2D4D (the ratio of the second to fourth digit) with the following equation:</p>
<pre><code>sqrt(pow(x[2]-x[3], 2) + pow(y[2]-y[3],2)) / sqrt(pow(x[6]-x[7], 2) + pow(y[6]-y[7],2))</code></pre>
<p>For anything more complicated, it’s probably better to download all the x and y coordinates and process them yourself. There is a button for getting all the coordinates from a set of templates into one spreadsheet.</p>
</div>
<div id="lab-pixels" class="section level3" number="2.3.2">
<h3><span class="header-section-number">2.3.2</span> Lab* Pixels</h3>
<p>Create CSV files with <a href="https://en.wikipedia.org/wiki/CIELAB_color_space" target="_blank">CIELAB color values</a> for each pixel. Check ‘ignore mask’ to omit pixel values that are the same as the top left pixel color. A CSV file will be created for each image with columns x, y, L , a, and b, with the x and y-coordinates of each pixel and their L*, a* and b* colour values.</p>
<table>
<caption>
<span id="tab:lab">Table 2.1: </span>Example rows from an Lab colour file.
</caption>
<thead>
<tr>
<th style="text-align:right;">
x
</th>
<th style="text-align:right;">
y
</th>
<th style="text-align:right;">
L
</th>
<th style="text-align:right;">
a
</th>
<th style="text-align:right;">
b
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
96
</td>
<td style="text-align:right;">
80
</td>
<td style="text-align:right;">
90.0460
</td>
<td style="text-align:right;">
-64.7454
</td>
<td style="text-align:right;">
54.8329
</td>
</tr>
<tr>
<td style="text-align:right;">
96
</td>
<td style="text-align:right;">
83
</td>
<td style="text-align:right;">
90.1418
</td>
<td style="text-align:right;">
-63.9054
</td>
<td style="text-align:right;">
53.6131
</td>
</tr>
<tr>
<td style="text-align:right;">
96
</td>
<td style="text-align:right;">
84
</td>
<td style="text-align:right;">
90.1522
</td>
<td style="text-align:right;">
-63.9010
</td>
<td style="text-align:right;">
54.5343
</td>
</tr>
<tr>
<td style="text-align:right;">
96
</td>
<td style="text-align:right;">
85
</td>
<td style="text-align:right;">
90.1522
</td>
<td style="text-align:right;">
-63.9010
</td>
<td style="text-align:right;">
54.5343
</td>
</tr>
<tr>
<td style="text-align:right;">
96
</td>
<td style="text-align:right;">
86
</td>
<td style="text-align:right;">
90.1522
</td>
<td style="text-align:right;">
-63.9010
</td>
<td style="text-align:right;">
54.5343
</td>
</tr>
<tr>
<td style="text-align:right;">
96
</td>
<td style="text-align:right;">
87
</td>
<td style="text-align:right;">
89.8794
</td>
<td style="text-align:right;">
-63.2933
</td>
<td style="text-align:right;">
53.3068
</td>
</tr>
<tr>
<td style="text-align:right;">
96
</td>
<td style="text-align:right;">
89
</td>
<td style="text-align:right;">
90.0148
</td>
<td style="text-align:right;">
-64.9838
</td>
<td style="text-align:right;">
54.7882
</td>
</tr>
<tr>
<td style="text-align:right;">
96
</td>
<td style="text-align:right;">
90
</td>
<td style="text-align:right;">
90.0041
</td>
<td style="text-align:right;">
-65.1015
</td>
<td style="text-align:right;">
55.2222
</td>
</tr>
<tr>
<td style="text-align:right;">
96
</td>
<td style="text-align:right;">
91
</td>
<td style="text-align:right;">
90.0148
</td>
<td style="text-align:right;">
-64.9838
</td>
<td style="text-align:right;">
54.7882
</td>
</tr>
</tbody>
</table>
</div>
<div id="image-grid" class="section level3" number="2.3.3">
<h3><span class="header-section-number">2.3.3</span> Image Grid</h3>
<p>Make a 2-dimensional grid of images.</p>
<div class="figure"><span id="fig:fig-batch-grid"></span>
<img src="images/batch_grid.png" alt="Image Grid." width="1209" />
<p class="caption">
Figure 2.11: Image Grid.
</p>
</div>
</div>
<div id="multiple-continua" class="section level3" number="2.3.4">
<h3><span class="header-section-number">2.3.4</span> Multiple Continua</h3>
<p>Create multiple morphing continua.</p>
<div class="figure"><span id="fig:fig-batch-multiple-continua"></span>
<img src="images/batch_multiple_continua.png" alt="Multiple Continua." width="578" />
<p class="caption">
Figure 2.12: Multiple Continua.
</p>
</div>
</div>
<div id="moving-gif" class="section level3" number="2.3.5">
<h3><span class="header-section-number">2.3.5</span> Moving Gif</h3>
<p>Select a set of images, such as a multiple continuum, choose Moving Gif from the Batch menu, and create an animated image.</p>
<p><img src="images/batch_moving.gif" alt="moving gif"></p>

</div>
</div>
</div>
<div class="webmorph_footer">

</div>
            </section>

          </div>
        </div>
      </div>
<a href="getting-started.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="templates.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"],
"google": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": {},
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

</body>

</html>
